<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Service Eligibility Form | Redemption Law Group</title>
  <style>
    /* Reset and base styles */
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      font-family: Arial, sans-serif;
      background-color: #f8f9fa;
      color: #212529;
    }
    /* Full-page container */
    #form-container {
      display: flex;
      flex-direction: column;
      height: 100%;
      width: 100%;
    }
    /* Centered content area */
    #content-wrapper {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      box-sizing: border-box;
      width: 100%;
    }
    /* Title and subtitle */
    #form-title {
      font-size: 2em;
      margin-bottom: 10px;
      text-align: center;
    }
    #form-subtitle {
      font-size: 1em;
      margin-bottom: 20px;
      text-align: center;
      color: #555;
      line-height: 1.4;
      max-width: 500px;
    }
    /* Logo */
    #logo {
      text-align: center;
      margin-bottom: 20px;
    }
    #logo img {
      max-width: 150px;
      height: auto;
    }
    /* Form wrapper */
    #eligibility-form {
      width: 100%;
      max-width: 600px;
      background: #ffffff;
      border: 1px solid #ced4da;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      box-sizing: border-box;
    }
    /* Steps */
    .step { display: none; }
    .step.active { display: block; }
    /* Inputs */
    label { font-weight: 500; margin-bottom: 5px; display: block; }
    input, select {
      width: 100%; padding: 10px; margin-bottom: 15px;
      border: 1px solid #ced4da; border-radius: 4px;
      box-sizing: border-box; font-size: 16px;
    }
    input:focus, select:focus {
      border-color: #0d6efd; outline: none;
      box-shadow: 0 0 0 4px rgba(13,110,253,0.1);
    }
    input[type=radio], input[type=checkbox] { accent-color: #0d6efd; }
    .radio-group { margin-bottom: 15px; }
    .radio-group label { margin-right: 20px; cursor: pointer; }
    /* Notes */
    .eligibility-note { font-weight: 500; margin: 15px 0; }
    .eligibility-note.warning { color: #d9534f; }
    /* Buttons */
    .button-group { text-align: right; margin-top: 15px; }
    .btn {
      padding: 10px 20px; font-size: 16px;
      border: none; border-radius: 4px;
      cursor: pointer; color: #fff;
      margin-left: 5px;
    }
    .btn-primary { background-color: #0d6efd; }
    .btn-primary:hover { background-color: #0b5ed7; }
    .btn-secondary { background-color: #6c757d; }
    .btn-secondary:hover { background-color: #5c636a; }
    /* Recommendation */
    .recommendation {
      border: 1px solid #ced4da; border-radius: 5px;
      background: #f8f9fa; padding: 15px;
      text-align: center; margin-bottom: 15px;
    }
    .fee-bubble {
      display: inline-block; padding: 8px 12px;
      border: 2px solid #555; border-radius: 20px;
      margin: 10px 0;
    }
    .placeholder-stripe, .placeholder-image {
      margin: 20px 0; padding: 40px;
      border: 2px dashed #ccc; color: #777;
    }
    .placeholder-image { margin-top: 10px; }
    /* Footer */
    footer {
      text-align: center; padding: 15px 10px;
      font-size: 0.85em; color: #555;
      border-top: 1px solid #ced4da; background: #fff;
    }
    footer b { color: #000; }
  </style>
</head>
<body>
  <div id="form-container">
    <div id="content-wrapper">
      <h1 id="form-title">Service Eligibility Form</h1>
      <p id="form-subtitle">
        Find out which service you’re eligible for and take the first step towards
        clearing your record and reclaiming your future.
      </p>
      <div id="logo">
        <img src="https://redemption.legal/rdmptn.svg" alt="Redemption Law Group Logo">
      </div>

      <form id="eligibility-form" novalidate>

        <!-- Step 1 -->
        <div class="step active" id="step-1">
          <h2>Step 1: Your Name</h2>
          <label for="first-name">First Name *</label>
          <input type="text" id="first-name" required>
          <label for="last-name">Last Name *</label>
          <input type="text" id="last-name" required>
          <div class="button-group">
            <button type="button" class="btn btn-primary" id="next-1">Next</button>
          </div>
        </div>

        <!-- Step 2 -->
        <div class="step" id="step-2">
          <h2>Step 2: Contact Information</h2>
          <label for="email">Email *</label>
          <input type="email" id="email" required>
          <label for="phone">Phone *</label>
          <input type="tel" id="phone" required pattern="\d{10}" placeholder="10-digit number">
          <div class="button-group">
            <button type="button" class="btn btn-secondary" id="prev-2">Back</button>
            <button type="button" class="btn btn-primary" id="next-2">Next</button>
          </div>
        </div>

        <!-- Step 3 -->
        <div class="step" id="step-3">
          <h2>Step 3: Mailing Address</h2>
          <label for="street">Street Address *</label>
          <input type="text" id="street" required>
          <label for="city">City/Town *</label>
          <input type="text" id="city" required>
          <label for="state">State *</label>
          <select id="state" required>
            <option value="">Select State</option>
            <!-- All US states omitted for brevity -->
            <option>California</option>
          </select>
          <label for="zip">ZIP Code *</label>
          <input type="text" id="zip" required pattern="\d{5}" placeholder="5-digit ZIP">
          <div class="button-group">
            <button type="button" class="btn btn-secondary" id="prev-3">Back</button>
            <button type="button" class="btn btn-primary" id="next-3">Next</button>
          </div>
        </div>

        <!-- Step 4 -->
        <div class="step" id="step-4">
          <h2>Step 4: Which service are you interested in? (Select one)</h2>
          <div class="radio-group">
            <label><input type="radio" name="service" value="expungement" required> Record Expungement</label>
            <label><input type="radio" name="service" value="certificate"> Certificate of Rehabilitation</label>
            <label><input type="radio" name="service" value="sealing"> Arrest Record Sealing</label>
            <label><input type="radio" name="service" value="termination"> Early Probation Termination</label>
          </div>
          <div class="button-group">
            <button type="button" class="btn btn-secondary" id="prev-4">Back</button>
            <button type="button" class="btn btn-primary" id="next-4">Next</button>
          </div>
        </div>

        <!-- Record Expungement Questions -->

        <!-- Q1: Court System -->
        <div class="step" id="step-exp-q1">
          <h2>Which court system were you convicted in?</h2>
          <div class="radio-group">
            <label><input type="radio" name="exp-q1" value="state" required> State Court</label>
            <label><input type="radio" name="exp-q1" value="federal"> Federal Court</label>
          </div>
          <div class="button-group">
            <button type="button" class="btn btn-secondary" id="prev-exp-q1">Back</button>
            <button type="button" class="btn btn-primary" id="next-exp-q1">Next</button>
          </div>
        </div>

        <!-- Q2: County -->
        <div class="step" id="step-exp-q2">
          <h2>Which county did your conviction take place in?</h2>
          <select id="exp-county" required>
            <option value="">Select County</option>
            <option>Alameda</option><option>Alpine</option><option>Amador</option>
            <option>Butte</option><option>Calaveras</option><option>Colusa</option>
            <option>Contra Costa</option><option>Del Norte</option><option>El Dorado</option>
            <option>Fresno</option><option>Glenn</option><option>Humboldt</option>
            <option>Imperial</option><option>Inyo</option><option>Kern</option>
            <option>Kings</option><option>Lake</option><option>Lassen</option>
            <option>Los Angeles</option><option>Madera</option><option>Marin</option>
            <option>Mariposa</option><option>Mendocino</option><option>Merced</option>
            <option>Modoc</option><option>Mono</option><option>Monterey</option>
            <option>Napa</option><option>Nevada</option><option>Orange</option>
            <option>Placer</option><option>Plumas</option><option>Riverside</option>
            <option>Sacramento</option><option>San Benito</option><option>San Bernardino</option>
            <option>San Diego</option><option>San Francisco</option><option>San Joaquin</option>
            <option>San Luis Obispo</option><option>San Mateo</option><option>Santa Barbara</option>
            <option>Santa Clara</option><option>Santa Cruz</option><option>Shasta</option>
            <option>Sierra</option><option>Siskiyou</option><option>Solano</option>
            <option>Sonoma</option><option>Stanislaus</option><option>Sutter</option>
            <option>Tehama</option><option>Trinity</option><option>Tulare</option>
            <option>Tuolumne</option><option>Ventura</option><option>Yolo</option>
            <option>Yuba</option>
          </select>
          <div class="button-group">
            <button type="button" class="btn btn-secondary" id="prev-exp-q2">Back</button>
            <button type="button" class="btn btn-primary" id="next-exp-q2">Next</button>
          </div>
        </div>

        <!-- Q3: Felony/Misdemeanor -->
        <div class="step" id="step-exp-q3">
          <h2>You were convicted of a:</h2>
          <div class="radio-group">
            <label><input type="radio" name="exp-q3" value="felony" required> Felony</label>
            <label><input type="radio" name="exp-q3" value="misdemeanor"> Misdemeanor</label>
          </div>
          <div class="button-group">
            <button type="button" class="btn btn-secondary" id="prev-exp-q3">Back</button>
            <button type="button" class="btn btn-primary" id="next-exp-q3">Next</button>
          </div>
        </div>

        <!-- Q4: Restitution -->
        <div class="step" id="step-exp-q4">
          <h2>Were you required to pay restitution? If yes, have you paid it in full?</h2>
          <div class="radio-group">
            <label><input type="radio" name="exp-q4" value="paid-full" required> Yes, paid in full</label>
            <label><input type="radio" name="exp-q4" value="paid-part"> Required but not paid in full</label>
            <label><input type="radio" name="exp-q4" value="not-required"> No restitution required</label>
          </div>
          <div class="button-group">
            <button type="button" class="btn btn-secondary" id="prev-exp-q4">Back</button>
            <button type="button" class="btn btn-primary" id="next-exp-q4">Next</button>
          </div>
        </div>

        <!-- Q5: New Charges -->
        <div class="step" id="step-exp-q5">
          <h2>Are you currently facing new charges?</h2>
          <div class="radio-group">
            <label><input type="radio" name="exp-q5" value="yes" required> Yes</label>
            <label><input type="radio" name="exp-q5" value="no"> No</label>
          </div>
          <div class="button-group">
            <button type="button" class="btn btn-secondary" id="prev-exp-q5">Back</button>
            <button type="button" class="btn btn-primary" id="next-exp-q5">Next</button>
          </div>
        </div>

        <!-- Q6: Disqualifying Convictions -->
        <div class="step" id="step-exp-q6">
          <h2>Were you convicted of any of the following? (select all that apply)</h2>
          <label><input type="checkbox" name="exp-q6" value="offense-1"> Sodomy with child under 14</label>
          <label><input type="checkbox" name="exp-q6" value="offense-2"> Lewd/lascivious acts with child under 14</label>
          <label><input type="checkbox" name="exp-q6" value="offense-3"> Continuous sexual abuse of a child</label>
          <label><input type="checkbox" name="exp-q6" value="offense-4"> Forcible penetration of minor under 14</label>
          <label><input type="checkbox" name="exp-q6" value="none"> None of the above</label>
          <div class="button-group">
            <button type="button" class="btn btn-secondary" id="prev-exp-q6">Back</button>
            <button type="button" class="btn btn-primary" id="next-exp-q6">Next</button>
          </div>
        </div>

        <!-- Arrest Record Sealing Questions -->
        <div class="step" id="step-seal-q1">
          <h2>Were you ever convicted of a crime from this arrest?</h2>
          <div class="radio-group">
            <label><input type="radio" name="seal-q1" value="no" required> No</label>
            <label><input type="radio" name="seal-q1" value="yes"> Yes</label>
          </div>
          <div class="button-group">
            <button type="button" class="btn btn-secondary" id="prev-seal-q1">Back</button>
            <button type="button" class="btn btn-primary" id="next-seal-q1">Next</button>
          </div>
        </div>
        <div class="step" id="step-seal-q2">
          <h2>Is the arrest case completely resolved with no conviction?</h2>
          <div class="radio-group">
            <label><input type="radio" name="seal-q2" value="yes" required> Yes</label>
            <label><input type="radio" name="seal-q2" value="no"> No</label>
          </div>
          <div class="button-group">
            <button type="button" class="btn btn-secondary" id="prev-seal-q2">Back</button>
            <button type="button" class="btn btn-primary" id="next-seal-q2">Next</button>
          </div>
        </div>

        <!-- Certificate of Rehabilitation Questions -->
        <div class="step" id="step-cor-q1">
          <h2>Which court system were you convicted in?</h2>
          <div class="radio-group">
            <label><input type="radio" name="cor-q1" value="state" required> State Court</label>
            <label><input type="radio" name="cor-q1" value="federal"> Federal Court</label>
          </div>
          <div class="button-group">
            <button type="button" class="btn btn-secondary" id="prev-cor-q1">Back</button>
            <button type="button" class="btn btn-primary" id="next-cor-q1">Next</button>
          </div>
        </div>
        <div class="step" id="step-cor-q2">
          <h2>Which county did your conviction take place in?</h2>
          <select id="cor-county" required>
            <option value="">Select County</option>
            <option>Alameda</option><option>Alpine</option><option>Amador</option>
            <option>Butte</option><option>Calaveras</option><option>Colusa</option>
            <option>Contra Costa</option><option>Del Norte</option><option>El Dorado</option>
            <option>Fresno</option><option>Glenn</option><option>Humboldt</option>
            <option>Imperial</option><option>Inyo</option><option>Kern</option>
            <option>Kings</option><option>Lake</option><option>Lassen</option>
            <option>Los Angeles</option><option>Madera</option><option>Marin</option>
            <option>Mariposa</option><option>Mendocino</option><option>Merced</option>
            <option>Modoc</option><option>Mono</option><option>Monterey</option>
            <option>Napa</option><option>Nevada</option><option>Orange</option>
            <option>Placer</option><option>Plumas</option><option>Riverside</option>
            <option>Sacramento</option><option>San Benito</option><option>San Bernardino</option>
            <option>San Diego</option><option>San Francisco</option><option>San Joaquin</option>
            <option>San Luis Obispo</option><option>San Mateo</option><option>Santa Barbara</option>
            <option>Santa Clara</option><option>Santa Cruz</option><option>Shasta</option>
            <option>Sierra</option><option>Siskiyou</option><option>Solano</option>
            <option>Sonoma</option><option>Stanislaus</option><option>Sutter</option>
            <option>Tehama</option><option>Trinity</option><option>Tulare</option>
            <option>Tuolumne</option><option>Ventura</option><option>Yolo</option>
            <option>Yuba</option>
          </select>
          <div class="button-group">
            <button type="button" class="btn btn-secondary" id="prev-cor-q2">Back</button>
            <button type="button" class="btn btn-primary" id="next-cor-q2">Next</button>
          </div>
        </div>
        <div class="step" id="step-cor-q3">
          <h2>You were convicted of a:</h2>
          <div class="radio-group">
            <label><input type="radio" name="cor-q3" value="felony" required> Felony</label>
            <label><input type="radio" name="cor-q3" value="misdemeanor"> Misdemeanor</label>
          </div>
          <div class="button-group">
            <button type="button" class="btn btn-secondary" id="prev-cor-q3">Back</button>
            <button type="button" class="btn btn-primary" id="next-cor-q3">Next</button>
          </div>
        </div>
        <div class="step" id="step-cor-q4">
          <h2>Did you serve time in state prison?</h2>
          <div class="radio-group">
            <label><input type="radio" name="cor-q4" value="yes" required> Yes</label>
            <label><input type="radio" name="cor-q4" value="no"> No</label>
          </div>
          <div class="button-group">
            <button type="button" class="btn btn-secondary" id="prev-cor-q4">Back</button>
            <button type="button" class="btn btn-primary" id="next-cor-q4">Next</button>
          </div>
        </div>
        <div class="step" id="step-cor-q5">
          <h2>Have you lived in California for at least 5 years immediately before today?</h2>
          <div class="radio-group">
            <label><input type="radio" name="cor-q5" value="yes" required> Yes</label>
            <label><input type="radio" name="cor-q5" value="no"> No</label>
          </div>
          <div class="button-group">
            <button type="button" class="btn btn-secondary" id="prev-cor-q5">Back</button>
            <button type="button" class="btn btn-primary" id="next-cor-q5">Next</button>
          </div>
        </div>
        <div class="step" id="step-cor-q6">
          <h2>Have you been convicted of any other crime in the last five years?</h2>
          <div class="radio-group">
            <label><input type="radio" name="cor-q6" value="yes" required> Yes</label>
            <label><input type="radio" name="cor-q6" value="no"> No</label>
          </div>
          <div class="button-group">
            <button type="button" class="btn btn-secondary" id="prev-cor-q6">Back</button>
            <button type="button" class="btn btn-primary" id="next-cor-q6">Next</button>
          </div>
        </div>
        <div class="step" id="step-cor-q7">
          <h2>Have you completed all parts of your sentence (such as probation or parole)?</h2>
          <div class="radio-group">
            <label><input type="radio" name="cor-q7" value="yes" required> Yes</label>
            <label><input type="radio" name="cor-q7" value="no"> No</label>
          </div>
          <div class="button-group">
            <button type="button" class="btn btn-secondary" id="prev-cor-q7">Back</button>
            <button type="button" class="btn btn-primary" id="next-cor-q7">Next</button>
          </div>
        </div>

        <!-- Final CTA Pages -->
        <div class="step" id="step-cta-expungement">
          <div class="recommendation">
            <h3>One last thing…</h3>
            <strong>RECORD EXPUNGEMENT</strong>
            <div class="note">
              You will be redirected to our secure Stripe payment gateway to complete your application and pay the service fee.
            </div>
            <div class="placeholder-stripe">[ STRIPE PAYMENT METHODS HERE ]</div>
            <div class="placeholder-image">[ Guarantee Badge ]</div>
            <div class="button-group">
              <button class="btn btn-primary" onclick="redirectToStripe('expungement')">
                Pay Now &amp; Submit For Review
              </button>
            </div>
          </div>
        </div>
        <div class="step" id="step-cta-certificate">
          <div class="recommendation">
            <h3>One last thing…</h3>
            <strong>CERTIFICATE OF REHABILITATION</strong>
            <div class="note">
              You will be redirected to our secure Stripe payment gateway to complete your application and pay the service fee.
            </div>
            <div class="placeholder-stripe">[ STRIPE PAYMENT METHODS HERE ]</div>
            <div class="placeholder-image">[ Guarantee Badge ]</div>
            <div class="button-group">
              <button class="btn btn-primary" onclick="redirectToStripe('certificate')">
                Pay Now &amp; Submit For Review
              </button>
            </div>
          </div>
        </div>
        <div class="step" id="step-cta-sealing">
          <div class="recommendation">
            <h3>One last thing…</h3>
            <strong>ARREST RECORD SEALING</strong>
            <div class="note">
              You will be redirected to our secure Stripe payment gateway to complete your application and pay the service fee.
            </div>
            <div class="placeholder-stripe">[ STRIPE PAYMENT METHODS HERE ]</div>
            <div class="placeholder-image">[ Guarantee Badge ]</div>
            <div class="button-group">
              <button class="btn btn-primary" onclick="redirectToStripe('sealing')">
                Pay Now &amp; Submit For Review
              </button>
            </div>
          </div>
        </div>
        <div class="step" id="step-cta-termination">
          <div class="recommendation">
            <h3>One last thing…</h3>
            <strong>EARLY PROBATION TERMINATION</strong>
            <div class="note">
              You will be redirected to our secure Stripe payment gateway to complete your application and pay the service fee.
            </div>
            <div class="placeholder-stripe">[ STRIPE PAYMENT METHODS HERE ]</div>
            <div class="placeholder-image">[ Guarantee Badge ]</div>
            <div class="button-group">
              <button class="btn btn-primary" onclick="redirectToStripe('termination')">
                Pay Now &amp; Submit For Review
              </button>
            </div>
          </div>
        </div>

      </form>
    </div>

    <footer>
      <p>© 2025, Redemption Law Group<br><br>
      <b>DISCLAIMER: Completion and/or submission of this form does not constitute an attorney-client relationship.</b></p>
    </footer>
  </div>

  <script>
    function showStep(id) {
      document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      window.scrollTo(0,0);
    }
    function redirectToStripe(service) {
      const urls = {
        expungement: 'https://stripe.com/checkout?service=expungement',
        certificate: 'https://stripe.com/checkout?service=certificate',
        sealing:     'https://stripe.com/checkout?service=sealing',
        termination: 'https://stripe.com/checkout?service=termination'
      };
      window.location.href = urls[service];
    }

    window.addEventListener('DOMContentLoaded', () => {
      // Step navigation
      document.getElementById('next-1').onclick = () => {
        const first = document.getElementById('first-name').value.trim();
        const last  = document.getElementById('last-name').value.trim();
        if (!first || !last) {
          alert('Please enter both your first and last name.');
          return;
        }
        showStep('step-2');
      };
      document.getElementById('prev-2').onclick = () => showStep('step-1');
      document.getElementById('next-2').onclick = () => {
        const email = document.getElementById('email'),
              phone = document.getElementById('phone');
        if (!email.checkValidity()) { alert('Please enter a valid email.'); return; }
        if (!phone.checkValidity()) { alert('Please enter a valid phone number.'); return; }
        showStep('step-3');
      };
      document.getElementById('prev-3').onclick = () => showStep('step-2');
      document.getElementById('next-3').onclick = () => {
        const s = document.getElementById('street').value.trim(),
              c = document.getElementById('city').value.trim(),
              st= document.getElementById('state').value,
              z = document.getElementById('zip');
        if (!s||!c||!st||!z.checkValidity()) {
          alert('Please complete your full mailing address.');
          return;
        }
        showStep('step-4');
      };
      document.getElementById('prev-4').onclick = () => showStep('step-3');
      document.getElementById('next-4').onclick = () => {
        const svc = document.querySelector('input[name="service"]:checked');
        if (!svc) { alert('Please select a service.'); return; }
        const map = {
          expungement: 'step-exp-q1',
          certificate: 'step-cor-q1',
          sealing:     'step-seal-q1',
          termination: 'step-term-q1'
        };
        showStep(map[svc.value]);
      };

      // Expungement path
      document.getElementById('prev-exp-q1').onclick = () => showStep('step-4');
      document.getElementById('next-exp-q1').onclick = () => {
        const ans = document.querySelector('input[name="exp-q1"]:checked').value;
        if (ans === 'federal') {
          document.getElementById('step-exp-q1').innerHTML = `
            <p class="eligibility-note warning">
              Unfortunately, we only work with individuals that have California State cases, not Federal Cases.
              Please feel free to reach out if you have any further questions.
            </p>
            <div class="button-group">
              <button class="btn btn-primary" onclick="window.location.href='https://www.redemption.legal/'">
                Back To Homepage
              </button>
              <button class="btn btn-secondary" onclick="window.open('https://help.redemption.legal','_blank')">
                Contact Support
              </button>
            </div>`;
          return;
        }
        showStep('step-exp-q2');
      };

      document.getElementById('prev-exp-q2').onclick = () => showStep('step-exp-q1');
      document.getElementById('next-exp-q2').onclick = () => {
        if (!document.getElementById('exp-county').value) {
          alert('Please select a county.');
          return;
        }
        showStep('step-exp-q3');
      };

      document.getElementById('prev-exp-q3').onclick = () => showStep('step-exp-q2');
      document.getElementById('next-exp-q3').onclick = () => showStep('step-exp-q4');

      document.getElementById('prev-exp-q4').onclick = () => showStep('step-exp-q3');
      document.getElementById('next-exp-q4').onclick = () => {
        const ans = document.querySelector('input[name="exp-q4"]:checked').value;
        if (ans === 'paid-part') {
          document.getElementById('step-exp-q4').innerHTML = `
            <p class="eligibility-note warning">
              Unfortunately, you need to pay your restitution in full first before seeking an expungement.
              Please try again after restitution has been paid in full.
            </p>
            <div class="button-group">
              <button class="btn btn-primary" onclick="window.location.href='https://www.redemption.legal/'">
                Back To Homepage
              </button>
              <button class="btn btn-secondary" onclick="window.open('https://help.redemption.legal','_blank')">
                Contact Support
              </button>
            </div>`;
          return;
        }
        showStep('step-exp-q5');
      };

      document.getElementById('prev-exp-q5').onclick = () => showStep('step-exp-q4');
      document.getElementById('next-exp-q5').onclick = () => {
        const ans = document.querySelector('input[name="exp-q5"]:checked').value;
        if (ans === 'yes') {
          document.getElementById('step-exp-q5').innerHTML = `
            <p class="eligibility-note warning">
              Unfortunately, you are not eligible for expungement while you have other criminal charges pending.
            </p>
            <div class="button-group">
              <button class="btn btn-primary" onclick="window.location.href='https://www.redemption.legal/'">
                Back To Homepage
              </button>
              <button class="btn btn-secondary" onclick="window.open('https://help.redemption.legal','_blank')">
                Contact Support
              </button>
            </div>`;
          return;
        }
        showStep('step-exp-q6');
      };

      document.getElementById('prev-exp-q6').onclick = () => showStep('step-exp-q5');
      document.getElementById('next-exp-q6').onclick = () => {
        const sel = Array.from(document.querySelectorAll('input[name="exp-q6"]:checked')).map(i=>i.value);
        if (sel.includes('none')) {
          showStep('step-cta-expungement');
        } else if (sel.length) {
          document.getElementById('step-exp-q6').innerHTML = `
            <p class="eligibility-note warning">
              Unfortunately anyone convicted of these offences are not eligible for Record Expungement or a Certificate of Rehabilitation.
            </p>
            <div class="button-group">
              <button class="btn btn-primary" onclick="window.location.href='https://www.redemption.legal/'">
                Back To Homepage
              </button>
            </div>`;
        } else alert('Please select at least one option.');
      };

      // Sealing path
      document.getElementById('prev-seal-q1').onclick = () => showStep('step-4');
      document.getElementById('next-seal-q1').onclick = () => {
        if (document.querySelector('input[name="seal-q1"]:checked').value === 'yes') {
          document.getElementById('step-seal-q1').innerHTML = `
            <p class="eligibility-note warning">
              We only handle non‐conviction arrest sealing. Please check Expungement eligibility.
            </p>
            <div class="button-group">
              <button class="btn btn-primary" onclick="showStep('step-exp-q1')">Go to Expungement</button>
              <button class="btn btn-secondary" onclick="window.location.href='https://www.redemption.legal/'">Start Over</button>
            </div>`;
          return;
        }
        showStep('step-seal-q2');
      };
      document.getElementById('prev-seal-q2').onclick = () => showStep('step-seal-q1');
      document.getElementById('next-seal-q2').onclick = () => {
        if (document.querySelector('input[name="seal-q2"]:checked').value === 'no') {
          document.getElementById('step-seal-q2').innerHTML = `
            <p class="eligibility-note warning">
              You cannot seal until the case is fully resolved with no conviction.
            </p>
            <div class="button-group">
              <button class="btn btn-primary" onclick="window.location.href='https://www.redemption.legal/'">
                Back To Homepage
              </button>
            </div>`;
          return;
        }
        showStep('step-cta-sealing');
      };

      // Certificate path
      document.getElementById('prev-cor-q1').onclick = () => showStep('step-4');
      document.getElementById('next-cor-q1').onclick = () => {
        if (document.querySelector('input[name="cor-q1"]:checked').value === 'federal') {
          document.getElementById('step-cor-q1').innerHTML = `
            <p class="eligibility-note warning">
              Unfortunately, we only work with California State cases, not Federal. Please reach out with any questions.
            </p>
            <div class="button-group">
              <button class="btn btn-primary" onclick="window.location.href='https://www.redemption.legal/'">
                Back To Homepage
              </button>
              <button class="btn btn-secondary" onclick="window.open('https://help.redemption.legal','_blank')">
                Contact Support
              </button>
            </div>`;
          return;
        }
        showStep('step-cor-q2');
      };
      document.getElementById('prev-cor-q2').onclick = () => showStep('step-cor-q1');
      document.getElementById('next-cor-q2').onclick = () => {
        if (!document.getElementById('cor-county').value) {
          alert('Please select a county.');
          return;
        }
        showStep('step-cor-q3');
      };
      document.getElementById('prev-cor-q3').onclick = () => showStep('step-cor-q2');
      document.getElementById('next-cor-q3').onclick = () => showStep('step-cor-q4');
      document.getElementById('prev-cor-q4').onclick = () => showStep('step-cor-q3');
      document.getElementById('next-cor-q4').onclick = () => showStep('step-cor-q5');
      document.getElementById('prev-cor-q5').onclick = () => showStep('step-cor-q4');
      document.getElementById('next-cor-q5').onclick = () => {
        if (document.querySelector('input[name="cor-q5"]:checked').value === 'no') {
          document.getElementById('step-cor-q5').innerHTML = `
            <p class="eligibility-note warning">
              You must have lived in California for at least 5 years immediately before filing. Please reach out with questions.
            </p>
            <div class="button-group">
              <button class="btn btn-primary" onclick="window.location.href='https://www.redemption.legal/'">
                Back To Homepage
              </button>
              <button class="btn btn-secondary" onclick="window.open('https://help.redemption.legal','_blank')">
                Contact Support
              </button>
            </div>`;
          return;
        }
        showStep('step-cor-q6');
      };
      document.getElementById('prev-cor-q6').onclick = () => showStep('step-cor-q5');
      document.getElementById('next-cor-q6').onclick = () => {
        if (document.querySelector('input[name="cor-q6"]:checked').value === 'yes') {
          document.getElementById('step-cor-q6').innerHTML = `
            <p class="eligibility-note warning">
              You must show a minimum of a five-year conviction-free history. Please reach out with questions.
            </p>
            <div class="button-group">
              <button class="btn btn-primary" onclick="window.location.href='https://www.redemption.legal/'">
                Back To Homepage
              </button>
              <button class="btn btn-secondary" onclick="window.open('https://help.redemption.legal','_blank')">
                Contact Support
              </button>
            </div>`;
          return;
        }
        showStep('step-cor-q7');
      };
      document.getElementById('prev-cor-q7').onclick = () => showStep('step-cor-q6');
      document.getElementById('next-cor-q7').onclick = () => {
        if (document.querySelector('input[name="cor-q7"]:checked').value === 'no') {
          document.getElementById('step-cor-q7').innerHTML = `
            <p class="eligibility-note warning">
              Unfortunately, you cannot seek a Certificate of Rehabilitation while on probation or parole.
            </p>
            <div class="button-group">
              <button class="btn btn-primary" onclick="window.location.href='https://www.redemption.legal/'">
                Back To Homepage
              </button>
              <button class="btn btn-secondary" onclick="window.open('https://help.redemption.legal','_blank')">
                Contact Support
              </button>
            </div>`;
          return;
        }
        showStep('step-cta-certificate');
      };

      // Probation Termination path
      document.getElementById('prev-term-q1').onclick = () => showStep('step-4');
      document.getElementById('next-term-q1').onclick = () => showStep('step-term-q2');
      document.getElementById('prev-term-q2').onclick = () => showStep('step-term-q1');
      document.getElementById('next-term-q2').onclick = () => showStep('step-term-q3');
      document.getElementById('prev-term-q3').onclick = () => showStep('step-term-q2');
      document.getElementById('next-term-q3').onclick = () => showStep('step-cta-termination');
    });
  </script>
</body>
</html>
