<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>California Expungement Eligibility Wizard - REDEMPTION®</title>
  <style>
    /* Basic reset */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body, html { width: 100%; height: 100%; font-family: 'Helvetica Neue', Arial, sans-serif; background:#fff; color:#000; }
    .form-container { width: 100%; max-width: 600px; margin: auto; padding: 2rem; }
    .step { display: none; animation: fadeIn 0.3s ease-in-out; }
    .step.active { display: block; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px);} to { opacity: 1; transform: translateY(0);} }
    .question { font-size: 1.2rem; margin-bottom:1rem; }
    .options { margin-bottom:1.5rem; }
    .options input[type="text"], .options input[type="email"], .options input[type="date"], .options input[type="tel"] { width:100%; padding:0.5rem; font-size:1rem; border:1px solid #ccc; border-radius:4px; }
    .btn-group { display:flex; justify-content:space-between; }
    button { background:#000; color:#fff; border:none; padding:0.75rem 1.5rem; font-size:1rem; cursor:pointer; border-radius:4px; }
    button[disabled] { opacity:0.5; cursor:not-allowed; }
    .progress { height:4px; background:#eee; margin-bottom:2rem; overflow:hidden; border-radius:2px; }
    .progress-bar { height:100%; width:0%; background:#000; transition: width 0.3s ease; }
    .logo { text-align:center; margin-bottom:2rem; }
    .logo img { max-width:150px; }
    .thank-you { text-align:center; }
  </style>
</head>
<body>
  <div class="form-container">
    <div class="logo"><img src="/redemptionblk.svg" alt="Redemption Law Group"></div>
    <div class="progress"><div class="progress-bar" id="progressBar"></div></div>

    <form id="expungeForm">
      <!-- Step 1 -->
      <div class="step active" data-step="1">
        <div class="question">Have you ever been convicted of a crime in California?</div>
        <div class="options">
          <label><input type="radio" name="convicted" value="yes"> Yes</label><br>
          <label><input type="radio" name="convicted" value="no"> No</label>
        </div>
      </div>
      <!-- Step 2 -->
      <div class="step" data-step="2">
        <div class="question">What type of offense were you convicted of?</div>
        <div class="options">
          <label><input type="radio" name="offenseType" value="misdemeanor"> Misdemeanor</label><br>
          <label><input type="radio" name="offenseType" value="felony"> Felony</label><br>
          <label><input type="radio" name="offenseType" value="both"> Both</label><br>
          <label><input type="radio" name="offenseType" value="not_sure"> Not Sure</label>
        </div>
      </div>
      <!-- Step 3 -->
      <div class="step" data-step="3">
        <div class="question">Have you completed all terms of your sentence, including probation, parole, and fines?</div>
        <div class="options">
          <label><input type="radio" name="completedTerms" value="yes"> Yes</label><br>
          <label><input type="radio" name="completedTerms" value="no"> No</label>
        </div>
      </div>
      <!-- Step 4 -->
      <div class="step" data-step="4">
        <div class="question">Are you currently facing any new criminal charges or investigations?</div>
        <div class="options">
          <label><input type="radio" name="newCharges" value="yes"> Yes</label><br>
          <label><input type="radio" name="newCharges" value="no"> No</label>
        </div>
      </div>
      <!-- Step 5 -->
      <div class="step" data-step="5">
        <div class="question">Are you currently on probation or parole?</div>
        <div class="options">
          <label><input type="radio" name="onProbation" value="yes"> Yes</label><br>
          <label><input type="radio" name="onProbation" value="no"> No</label>
        </div>
      </div>
      <!-- Step 6 -->
      <div class="step" data-step="6">
        <div class="question">Were you sentenced to state prison (not county jail)?</div>
        <div class="options">
          <label><input type="radio" name="statePrison" value="yes"> Yes</label><br>
          <label><input type="radio" name="statePrison" value="no"> No</label><br>
          <label><input type="radio" name="statePrison" value="not_sure"> Not Sure</label>
        </div>
      </div>
      <!-- Step 7 -->
      <div class="step" data-step="7">
        <div class="question">How long ago did you complete your sentence?</div>
        <div class="options">
          <label><input type="radio" name="timeSince" value="<1"> Less than 1 year</label><br>
          <label><input type="radio" name="timeSince" value="1-3"> 1–3 years ago</label><br>
          <label><input type="radio" name="timeSince" value="3-5"> 3–5 years ago</label><br>
          <label><input type="radio" name="timeSince" value=">5"> More than 5 years ago</label>
        </div>
      </div>
      <!-- Step 8 -->
      <div class="step" data-step="8">
        <div class="question">Full Name</div>
        <div class="options"><input type="text" name="fullName" required></div>
      </div>
      <!-- Step 9 -->
      <div class="step" data-step="9">
        <div class="question">Email Address</div>
        <div class="options"><input type="email" name="email" required></div>
      </div>
      <!-- Step 10 -->
      <div class="step" data-step="10">
        <div class="question">Phone Number</div>
        <div class="options"><input type="tel" name="phone" required></div>
      </div>
      <!-- Step 11 -->
      <div class="step" data-step="11">
        <div class="question">Do you want to schedule a free consultation with an attorney?</div>
        <div class="options">
          <label><input type="radio" name="scheduleConsult" value="yes"> Yes</label><br>
          <label><input type="radio" name="scheduleConsult" value="no"> No</label>
        </div>
      </div>
      <!-- Step 12: Thank You -->
      <div class="step" data-step="12">
        <div class="thank-you">
          <h2>Thank you for completing your eligibility check!</h2>
          <p>Our team will review your answers and get in touch within 24–48 hours.</p>
          <p id="consultBtnContainer"></p>
        </div>
      </div>

      <div class="btn-group">
        <button type="button" id="prevBtn" onclick="changeStep(-1)">Back</button>
        <button type="button" id="nextBtn" onclick="changeStep(1)">Next</button>
      </div>
    </form>
  </div>

  <script>
    const form = document.getElementById('expungeForm');
    const steps = document.querySelectorAll('.step');
    const progressBar = document.getElementById('progressBar');
    let currentStep = 1;
    const totalSteps = steps.length;

    function showStep(step) {
      steps.forEach(s => s.classList.remove('active'));
      document.querySelector(`.step[data-step="${step}"]`).classList.add('active');
      document.getElementById('prevBtn').style.display = step === 1 ? 'none' : 'inline-block';
      document.getElementById('nextBtn').textContent = step === totalSteps ? 'Submit' : 'Next';
      progressBar.style.width = ((step-1)/(totalSteps-1))*100 + '%';
    }

    function changeStep(n) {
      // basic validation for required fields
      if(n === 1) {
        const inputs = steps[currentStep-1].querySelectorAll('input[required]');
        for(const input of inputs) {
          if(!input.value) return;
        }
      }
      // capture Q1 'no' skip logic
      if(currentStep === 1 && n === 1) {
        const val = form.elements['convicted'].value;
        if(val === 'no') return showIneligible();
      }
      if(currentStep + n > totalSteps) return submitForm();
      currentStep += n;
      showStep(currentStep);

      // after thank you, handle consult button
      if(currentStep === totalSteps) handleConsult();
    }

    function showIneligible() {
      document.querySelector('.form-container').innerHTML = '<div class="thank-you"><h2>It seems you may not qualify.</h2><p>Expungement is available only for past convictions in California.</p></div>';
    }

    function submitForm() {
      // collect data
      const data = {};
      new FormData(form).forEach((v,k) => data[k]=v);
      // send to endpoint (replace URL with your endpoint)
      fetch('YOUR_ENDPOINT_URL', {
        method: 'POST', headers: {'Content-Type':'application/json'},
        body: JSON.stringify(data)
      }).then(res => {
        changeStep(1);
      }).catch(err => console.error(err));
    }

    function handleConsult() {
      const choice = form.elements['scheduleConsult'].value;
      if(choice === 'yes') {
        const container = document.getElementById('consultBtnContainer');
        container.innerHTML = '<a href="https://calendly.com/your-link" target="_blank"><button>Book Free Consultation</button></a>';
      }
    }

    // init
    showStep(currentStep);
    document.getElementById('prevBtn').style.display = 'none';
  </script>
</body>
</html>
